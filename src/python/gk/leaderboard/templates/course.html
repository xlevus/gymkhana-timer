{% extends "base.html" %}
{% load i18n %}

{% block main %}

<h1>{{ course }}</h1>

{% if best_times %}
<h2>{% trans "Best Times" %}</h2>
<table class="table table-striped table-sm mb-5">
    <thead>
        <td></td>
        <td>{% trans "Rider" %}</td>
        <td>{% trans "Bike" %}</td>
        <td>{% trans "Time" %}</td>
    </thead>

    {% for time in best_times %}
    <tr>
        <td>#{{ forloop.counter }}</td>
        <td>
            {% if time.user %}
            {{ time.user.username }}
            {% else %}
            {{ time.rider }}
            {% endif %}
        </td>
        <td>{{ time.bike }}</td>
        <td>{{ time.time }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>{% trans "There are no times for this course." %}</p>
{% endif %}


{% if history %}
<h2>{% trans "History" %}</h2>
<table class="table table-striped table-sm mb-5">
    <thead>
        <td>{% trans "Date" %}</td>
        <td>{% trans "Rider" %}</td>
        <td>{% trans "Bike" %}</td>
        <td>{% trans "Time" %}</td>
    </thead>

    {% for time in history %}
    <tr>
        <td>{{ time.run_date }}</td>
        <td>
            {% if time.user %}
            {{ time.user.username }}
            {% else %}
            {{ time.rider }}
            {% endif %}
        </td>
        <td>{{ time.bike }}</td>
        <td>{{ time.time }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}

{% endblock %}